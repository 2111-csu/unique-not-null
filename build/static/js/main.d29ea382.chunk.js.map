{"version":3,"sources":["axios-services/index.js","components/App.js","components/Snackbar.js","components/Title.js","components/Login.js","components/Register.js","components/AllProducts.js","components/SingleProduct.js","index.js"],"names":["callApi","a","url","method","token","data","options","toUpperCase","headers","axios","resp","console","log","error","App","useState","APIHealth","setAPIHealth","userAuth","JSON","parse","localStorage","getItem","userToken","setToken","loggedIn","setLoggedIn","message","setMessage","products","setProducts","useEffect","healthy","getAPIStatus","className","exact","path","Snackbar","x","document","getElementById","setTimeout","replace","Title","history","useHistory","id","to","onClick","clear","push","Login","username","setUsername","password","setPassword","handleSubmit","event","preventDefault","result","setItem","stringify","user","onSubmit","htmlFor","type","name","placeholder","value","onChange","target","Register","email","setEmail","firstName","setFirstName","lastName","setLastName","min-length","AllProducts","search","useLocation","searchTerm","URLSearchParams","get","apiResponse","getData","sortedProducts","filter","product","description","category","toLowerCase","includes","productMatches","e","map","key","style","border","price","src","imageurl","alt","inStock","SingleProduct","productId","useParams","Number","ReactDOM","render"],"mappings":"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","file":"static/js/main.d29ea382.chunk.js","sourcesContent":["import axios from 'axios';\r\n// this file holds your frontend network request adapters\r\n// think about each function as a service that provides data\r\n// to your React UI through AJAX calls\r\n\r\n// for example, if we need to display a list of users\r\n// we'd probably want to define a getUsers service like this:\r\n\r\n/* \r\n  export async function getUsers() {\r\n    try {\r\n      const { data: users } = await axios.get('/api/users')\r\n      return users;\r\n    } catch(err) {\r\n      console.error(err)\r\n    }\r\n  }\r\n*/\r\n\r\nexport const callApi = async ({ url, method = \"GET\", token, data }) => {\r\n  try {\r\n    const options = {\r\n      url,\r\n      method: method.toUpperCase(),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: data\r\n    };\r\n    if (token) {\r\n      options.headers[\"Authorization\"] = `Bearer ${token}`;\r\n    }\r\n  const resp = await axios(options);\r\n    console.log(resp);\r\n    \r\n    if (resp.error) {\r\n      throw resp.error;\r\n    }\r\n    return resp;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport async function getAPIHealth() {\r\n  try {\r\n    const { data } = await axios.get(`/api/health`);\r\n    console.log(data);\r\n    return data;\r\n  } catch (err) {\r\n    console.error(err);\r\n    return { healthy: false };\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { callApi } from '../axios-services';\r\nimport {\r\n  Admin,\r\n  Header,\r\n  Home,\r\n  Payment,\r\n  AllProducts,\r\n  SingleProduct,\r\n  Login,\r\n  Register,\r\n  User,\r\n  Title\r\n} from './'; \r\nimport '../style/App.css';\r\n// getAPIHealth is defined in our axios-services directory index.js\r\n// you can think of that directory as a collection of api adapters\r\n// where each adapter fetches specific info from our express server's /api route\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [APIHealth, setAPIHealth] = useState('');\r\n  const userAuth = JSON.parse(localStorage.getItem('user'));\r\n  const userToken = JSON.parse(localStorage.getItem('token'));\r\n  const [token, setToken] = useState(userToken);\r\n  const [loggedIn, setLoggedIn] = useState(userAuth);\r\n  const [message, setMessage] = useState(null);\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // follow this pattern inside your useEffect calls:\r\n    // first, create an async function that will wrap your axios service adapter\r\n    // invoke the adapter, await the response, and set the data\r\n    \r\n    const getAPIStatus = async () => {\r\n      const healthy = await callApi({url: '/api/health', method: 'GET'});\r\n      setAPIHealth(healthy ? 'api is up! :D' : 'api is down :/');\r\n    };\r\n\r\n    // second, after you've defined your getter above\r\n    // invoke it immediately after its declaration, inside the useEffect callback\r\n    getAPIStatus();\r\n  }, []);\r\n\r\n  return <>\r\n    <div className=\"app-container\">\r\n      <h1>Hello, World!</h1>\r\n      <p>API Status: {APIHealth}</p>\r\n    </div>\r\n    \r\n    <div className='app-container'>\r\n      <Title loggedIn={loggedIn} setLoggedIn={setLoggedIn} message={message} setMessage={setMessage}/>\r\n      <Route exact path='/payment'>\r\n        {/* <Payment /> need state from 'const App' for cart here */}\r\n      </Route>\r\n      <Route exact path='/products'>\r\n        <AllProducts products={products} setProducts={setProducts}/> {/*need state from 'const App' for inventory here*/}\r\n      </Route>\r\n      <Route exact path='/products/:productId'>\r\n        <SingleProduct products={products}/> \r\n      </Route>\r\n      <Route exact path='/user-info'>\r\n        {/* <User /> need cart state here */}\r\n      </Route>\r\n      <Route exact path='/login'>\r\n        <Login setLoggedIn={setLoggedIn} setToken={setToken} setMessage={setMessage} /> \r\n        {/* <Login /> need loggedIn state (setLoggedIn?) */}\r\n      </Route>\r\n      <Route exact path='/register'>\r\n        <Register setToken={setToken} setMessage={setMessage}/>\r\n        {/* <Register /> need loggedIn state (setLoggedIn?) */}\r\n      </Route>\r\n      <Route exact path='/admin'>\r\n        {/* <Admin /> need state for inventory here */}\r\n      </Route>\r\n      <Route exact path='/'>\r\n        {/* <Home /> */}\r\n      </Route>\r\n    </div>\r\n  </>;\r\n};\r\nexport default App;\r\n","export const Snackbar = () => {\r\n  var x = document.getElementById(\"snackbar\");\r\n\r\n  x.className = \"show\";\r\n\r\n  setTimeout(function(){ x.className = x.className.replace(\"show\", \"\"); }, 3000);\r\n};","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Snackbar } from \"./Snackbar\";\r\n\r\nconst Title = ({ loggedIn, setLoggedIn, message, setMessage }) => {\r\n\r\n  const history = useHistory();\r\n\r\n    const Logout = () => {\r\n    setLoggedIn(null);\r\n    setMessage(\"You have successfully logged out\")\r\n    Snackbar()\r\n    localStorage.clear();\r\n    history.push('/');\r\n  }\r\n\r\n  return <div id='site-title'>\r\n    <div>\r\n      <h1>Popcorn Perfection</h1>\r\n    </div>\r\n    <div id='navbar'>\r\n      <Link className='navlink' to=\"/\">Home</Link>\r\n      <Link className='navlink'to=\"/products\">Products</Link>\r\n      {loggedIn? <Link className='navlink' to=\"/\">My Orders</Link> : <Link className='navlink' to=\"/login\">Login</Link>}\r\n      {loggedIn? <Link className='navlink' to=\"/\" onClick={Logout}>Logout</Link> : <Link className='navlink' to=\"/register\">Register</Link>}\r\n    </div>\r\n    <div id='snackbar'>{message}</div>\r\n  </div>\r\n};\r\n\r\nexport default Title;\r\n\r\n\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { callApi } from \"../axios-services\";\r\nimport { Snackbar } from \"./Snackbar\";\r\n\r\nconst Login = ({setToken, setLoggedIn, setMessage}) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const result = await callApi ({\r\n        url: `/api/users/login`, \r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        data: {\r\n            username,\r\n            password\r\n        }\r\n      });\r\n      \r\n      \r\n      setToken(result.data.token);\r\n      console.log(result.data.token);\r\n      if (result.data.token) {\r\n        localStorage.setItem('token', JSON.stringify(result.data.token));\r\n        localStorage.setItem('user', JSON.stringify(result.data.user.username));\r\n        setLoggedIn(result.data.user.username);\r\n        setMessage(result.data.message);\r\n        Snackbar();\r\n        history.push('/');\r\n      } else {\r\n        setMessage(result.data.message)\r\n        Snackbar();\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id='container'>\r\n      <div id='login'>\r\n        <form onSubmit={handleSubmit}>\r\n          <label htmlFor='username'>UserName: </label>\r\n          <input type='text' id='username-input' name='username' placeholder='username' value={username} onChange={(event) => setUsername(event.target.value)}/>\r\n          <label htmlFor='password'>Password: </label>\r\n          <input type='password' id='password-input' name='password' placeholder='password' value={password} onChange={(event) => setPassword(event.target.value)}/>\r\n          <button type='submit'>Login</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { callApi } from '../axios-services';\r\nimport { Snackbar } from './Snackbar';\r\n\r\nconst Register = ({setToken, setMessage}) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const result = await callApi ({\r\n        url: `/api/users/register`, \r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        data: {\r\n          username,\r\n          password,\r\n          email,\r\n          firstName,\r\n          lastName\r\n        }\r\n      });\r\n      \r\n      console.log('register result', result);\r\n      setToken(result.data.token);\r\n      if (result.data.token) {\r\n        setMessage(result.data.message);\r\n        Snackbar();\r\n        history.push('/login');\r\n      } else {\r\n        setMessage(result.data.message)\r\n        Snackbar();\r\n      }\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div id='container'>\r\n      \r\n      <div id='register'>\r\n        <form onSubmit={handleSubmit}>\r\n          <label htmlFor='firstname'>First Name: </label>\r\n          <input type='text' id='firstname-input' name='firstName' value={firstName} onChange={(event) => setFirstName(event.target.value)}/>\r\n          <label htmlFor='lastname'>Last Name: </label>\r\n          <input type='text' id='lastname-input' name='lastName' value={lastName} onChange={(event) => setLastName(event.target.value)}/>\r\n          <br />\r\n          <label htmlFor='email'>Email Address: </label>\r\n          <input type='text' id='email-input' name='email' value={email} onChange={(event) => setEmail(event.target.value)}/>\r\n          <br />\r\n          <label htmlFor='username'>UserName: </label>\r\n          <input type='text' id='username-input' name='username' placeholder='username' value={username} onChange={(event) => setUsername(event.target.value)}/>\r\n          <label htmlFor='password'>Password: </label>\r\n          <input type='password' id='password-input' min-length='8' name='password' placeholder='password' value={password} onChange={(event) => setPassword(event.target.value)}/>\r\n          <button type='submit'>Register</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { useLocation, useHistory } from 'react-router';\r\nimport { callApi } from '../axios-services'\r\n\r\nconst AllProducts = ({ products, setProducts }) => {\r\n\r\n  const { search } = useLocation();\r\n  const history = useHistory();\r\n  const searchParams = new URLSearchParams(search);\r\n  const searchTerm = searchParams.get('searchTerm') || '';\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      const apiResponse = await callApi({url: '/api/products', method: 'GET'});\r\n      console.log(apiResponse);\r\n      console.log(apiResponse.data);\r\n      setProducts(apiResponse.data);\r\n    }\r\n    getData();\r\n  }, [setProducts]);\r\n  \r\n  const productMatches = (product, searchTerm) => {\r\n    const { name, description, category } = product;   \r\n    const toCheck = [name, description, category]\r\n    for (const field of toCheck) {\r\n      if (field.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  const sortedProducts = products.filter(product => productMatches(product, searchTerm));\r\n\r\n  return (\r\n    <div id=\"products-page\">\r\n\r\n      <h2>Products Page</h2>\r\n      <h3>Would you like to buy any popcorn?</h3>\r\n\r\n      <h5 id='search-word'>Search: </h5>\r\n      <input id='search-field' type='text'placeholder='search here'\r\n        onChange={(e) => { history.push(e.target.value ? `/products?searchTerm=${e.target.value}` : '/products') }}/>\r\n      \r\n      <div>\r\n      {sortedProducts.map(product => {\r\n        return (\r\n          <div\r\n            key={product.id}\r\n            id='single-product'\r\n            style={{ border: \"1px solid black\" }}>\r\n            <h4><u>Name:</u>\r\n            <Link to={`/products/${product.id}`}> {product.name}\r\n            </Link></h4>\r\n            <h4><u>Description:</u> {product.description}</h4>\r\n            <h4><u>Price:</u> {product.price}</h4>\r\n            <img src={product.imageurl} alt={`photo of ${product.name} the ${product.name}`}/>\r\n            <h4><u>In stock?</u> {product.inStock}</h4>   \r\n          </div>\r\n        )}\r\n      )} \r\n      </div>\r\n\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\nexport default AllProducts;","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst SingleProduct = ({ products }) => {\r\n  const { productId } = useParams();\r\n\r\n  const [product] = products.filter(product => product.id === Number(productId));\r\n\r\n  return (\r\n    <div\r\n      key={product.id}\r\n      id='single-product'\r\n      style={{ border: \"1px solid black\" }}>\r\n      <h4><u>Name:</u>{product.name}</h4>\r\n      <h4><u>Description:</u>{product.description}</h4>\r\n      <h4><u>Price: </u>{product.price}</h4>\r\n      <img src={product.imageurl} alt={`photo of ${product.name} the ${product.name}`}/>\r\n      <h4><u>In stock?</u>{product.inStock}</h4>   \r\n    </div>\r\n  )\r\n        \r\n};\r\n\r\nexport default SingleProduct;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { App } from './components';\r\n// css stylesheets can be created for each component\r\n// place them in the src/style directory, and import them like this:\r\nimport './style/index.css';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('app'),\r\n);"],"sourceRoot":""}